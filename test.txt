=== RUN   TestIteration10A
=== RUN   TestIteration10A/TestLibraryUsage
=== RUN   TestIteration10A/TestPingHandler
=== NAME  TestIteration10A
    iteration10a_test.go:99: ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»ÑÑ Ñ Ð½Ðµ Ð½ÑƒÐ»ÐµÐ²Ñ‹Ð¼ ÑÑ‚Ð°Ñ‚ÑƒÑÐ¾Ð¼ 1
    iteration10a_test.go:111: ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½ STDOUT Ð»Ð¾Ð³ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°:
        
        2024/11/08 22:09:52 start parsing flags
        2024/11/08 22:09:52 Config before env var processing: &{localhost:8080  10 metrics.dump true }
        2024/11/08 22:09:52 Trying to read ADDRESS environment variable (env has priority over flags):  localhost:8080
        Using env var ADDRESS: localhost:8080
        2024/11/08 22:09:52 env var STORE_INTERVAL was specified, use STORE_INTERVAL = 10
        2024/11/08 22:09:52 Using env var STORE_INTERVAL= 10
        2024/11/08 22:09:52 env var RESTORE was specified, use RESTORE = true
        2024/11/08 22:09:52 Using env var RESTORE= true
        2024/11/08 22:09:52 env var DATABASE_DSN was specified, use DATABASE_DSN = postgres://testuser:123456@192.168.1.100:5432/testdb?sslmode=disable
        2024/11/08 22:09:52 Using env var DATABASE_DSN= postgres://testuser:123456@192.168.1.100:5432/testdb?sslmode=disable
        2024/11/08 22:09:52 conf.runAddr is URI address, Using URI: localhost:8080
        2024/11/08 22:09:52 initconf is: {localhost:8080  10 metrics.dump true postgres://testuser:123456@192.168.1.100:5432/testdb?sslmode=disable}
        2024/11/08 22:09:52 storage from Load: &{map[Alloc:3.485408e+06 BuckHashSys:10072 Frees:23918 GCCPUFraction:0.0001495438154328972 GCSys:2.910488e+06 GetSet220:874377.6386529244 HeapAlloc:3.485408e+06 HeapIdle:6.7584e+06 HeapInuse:5.332992e+06 HeapObjects:9834 HeapReleased:4.808704e+06 HeapSys:1.2091392e+07 LastGC:1.7310893203276073e+18 Lookups:0 MCacheInuse:18688 MCacheSys:32704 MSpanInuse:127200 MSpanSys:130560 Mallocs:33752 NextGC:5.679664e+06 NumForcedGC:0 NumGC:10 OtherSys:1.032656e+06 PauseTotalNs:509900 RandomValue:0.2083188239403695 StackInuse:458752 StackSys:458752 Sys:1.6666624e+07 TotalAlloc:2.7863032e+07] map[GetSet228:1878743863 PollCount:1]}
        2024/11/08 22:09:52 Init context fo goroutine (Conf.StoreMetricInterval is not 0): 10
        Save metrics dump to file metrics.dump with interval 10 s
        2024-11-08T22:09:52.962+0300	INFO	server/main.go:98	initConfig sugar logging	{"conf.RunAddr": "localhost:8080"}
        2024/11/08 22:09:52 Connecting to base
        2024/11/08 22:09:52 flags or DATABASE_DSN env defined, starting db connect with this conf
        2024/11/08 22:09:52 connStrMap: [postgres testuser 123456 192.168.1.100 5432 testdb sslmode=disable]
        2024/11/08 22:09:52 p.cfg.Database is: {192.168.1.100 testuser 123456 testdb disable}
        2024/11/08 22:09:52 Connection string to database: postgres://testuser:123456@192.168.1.100:5432/testdb?sslmode=disable
        2024/11/08 22:09:52 Connected to database with DSN : postgres://testuser:123456@192.168.1.100:5432/testdb?sslmode=disable
        [GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.
        
        [GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
         - using env:	export GIN_MODE=release
         - using code:	gin.SetMode(gin.ReleaseMode)
        
        [GIN-debug] GET    /                         --> main.main.GetAllMetrics.func10 (7 handlers)
        [GIN-debug] POST   /update/:metricType/:metricName/:metricValue --> main.main.MetricsHandler.func11 (7 handlers)
        [GIN-debug] POST   /update                   --> main.main.MetricHandlerJSON.func12 (7 handlers)
        [GIN-debug] GET    /value/:metricType/:metricName --> main.main.GetMetric.func13 (7 handlers)
        [GIN-debug] POST   /value                    --> main.main.GetMetricJSON.func14 (7 handlers)
        [GIN-debug] GET    /ping                     --> main.main.DBPing.func15 (7 handlers)
        [GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
        Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
        [GIN-debug] Listening and serving HTTP on localhost:8080
        2024/11/08 22:09:54 database connected
        2024/11/08 22:09:54 SyncDumpUpdate StoreMetricInterval : 10
        2024-11-08T22:09:54.088+0300	INFO	logging/logging.go:16	uri /ping method GET status 200 duration 14.1845ms size 23
        [GIN] 2024/11/08 - 22:09:54 | 200 |     14.1845ms |       127.0.0.1 | GET      "/ping"
--- PASS: TestIteration10A (1.16s)
    --- PASS: TestIteration10A/TestLibraryUsage (0.00s)
    --- PASS: TestIteration10A/TestPingHandler (1.03s)
=== RUN   TestIteration10B
=== RUN   TestIteration10B/TestPingHandlerWithWrongSettings
=== NAME  TestIteration10B
    iteration10b_test.go:93: ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»ÑÑ Ñ Ð½Ðµ Ð½ÑƒÐ»ÐµÐ²Ñ‹Ð¼ ÑÑ‚Ð°Ñ‚ÑƒÑÐ¾Ð¼ 1
    iteration10b_test.go:105: ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½ STDOUT Ð»Ð¾Ð³ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°:
        
        2024/11/08 22:09:54 start parsing flags
        2024/11/08 22:09:54 Config before env var processing: &{localhost:8080  10 metrics.dump false }
        2024/11/08 22:09:54 Trying to read ADDRESS environment variable (env has priority over flags):  localhost:8080
        Using env var ADDRESS: localhost:8080
        2024/11/08 22:09:54 env var STORE_INTERVAL was specified, use STORE_INTERVAL = 10
        2024/11/08 22:09:54 Using env var STORE_INTERVAL= 10
        2024/11/08 22:09:54 env var RESTORE was specified, use RESTORE = true
        2024/11/08 22:09:54 Using env var RESTORE= true
        2024/11/08 22:09:54 env var DATABASE_DSN was specified, use DATABASE_DSN = 'postgres://unknown:unknown@postgres:9999/praktikum?easter_egg_msg=you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments'
        2024/11/08 22:09:54 Using env var DATABASE_DSN= 'postgres://unknown:unknown@postgres:9999/praktikum?easter_egg_msg=you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments'
        2024/11/08 22:09:54 conf.runAddr is URI address, Using URI: localhost:8080
        2024/11/08 22:09:54 initconf is: {localhost:8080  10 metrics.dump true 'postgres://unknown:unknown@postgres:9999/praktikum?easter_egg_msg=you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments'}
        2024/11/08 22:09:54 storage from Load: &{map[Alloc:3.485408e+06 BuckHashSys:10072 Frees:23918 GCCPUFraction:0.0001495438154328972 GCSys:2.910488e+06 GetSet220:874377.6386529244 HeapAlloc:3.485408e+06 HeapIdle:6.7584e+06 HeapInuse:5.332992e+06 HeapObjects:9834 HeapReleased:4.808704e+06 HeapSys:1.2091392e+07 LastGC:1.7310893203276073e+18 Lookups:0 MCacheInuse:18688 MCacheSys:32704 MSpanInuse:127200 MSpanSys:130560 Mallocs:33752 NextGC:5.679664e+06 NumForcedGC:0 NumGC:10 OtherSys:1.032656e+06 PauseTotalNs:509900 RandomValue:0.2083188239403695 StackInuse:458752 StackSys:458752 Sys:1.6666624e+07 TotalAlloc:2.7863032e+07] map[GetSet228:1878743863 PollCount:1]}
        2024/11/08 22:09:54 Init context fo goroutine (Conf.StoreMetricInterval is not 0): 10
        Save metrics dump to file metrics.dump with interval 10 s
        2024-11-08T22:09:54.114+0300	INFO	server/main.go:98	initConfig sugar logging	{"conf.RunAddr": "localhost:8080"}
        2024/11/08 22:09:54 Connecting to base
        2024/11/08 22:09:54 flags or DATABASE_DSN env defined, starting db connect with this conf
        2024/11/08 22:09:54 connStrMap: ['postgres unknown unknown postgres 9999 praktikum easter_egg_msg=you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments']
        2024/11/08 22:09:54 p.cfg.Database is: {postgres unknown unknown praktikum you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments'}
        2024/11/08 22:09:54 Connection string to database: 'postgres://unknown:unknown@postgres:9999/praktikum?easter_egg_msg=you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments'
        2024/11/08 22:09:54 Connected to database with DSN : 'postgres://unknown:unknown@postgres:9999/praktikum?easter_egg_msg=you_must_prefer_this_incorrect_settings_to_those_obtained_through_arguments'
        [GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.
        
        [GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
         - using env:	export GIN_MODE=release
         - using code:	gin.SetMode(gin.ReleaseMode)
        
        [GIN-debug] GET    /                         --> main.main.GetAllMetrics.func10 (7 handlers)
        [GIN-debug] POST   /update/:metricType/:metricName/:metricValue --> main.main.MetricsHandler.func11 (7 handlers)
        [GIN-debug] POST   /update                   --> main.main.MetricHandlerJSON.func12 (7 handlers)
        [GIN-debug] GET    /value/:metricType/:metricName --> main.main.GetMetric.func13 (7 handlers)
        [GIN-debug] POST   /value                    --> main.main.GetMetricJSON.func14 (7 handlers)
        [GIN-debug] GET    /ping                     --> main.main.DBPing.func15 (7 handlers)
        [GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
        Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
        [GIN-debug] Listening and serving HTTP on localhost:8080
        2024/11/08 22:09:55 database connect error
        
        
        [31m2024/11/08 22:09:55 [Recovery] 2024/11/08 - 22:09:55 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:09:55 | 500 |      8.0851ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:09:56 database connect error
        
        
        [31m2024/11/08 22:09:56 [Recovery] 2024/11/08 - 22:09:56 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:09:56 | 500 |      5.0216ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:09:57 database connect error
        
        
        [31m2024/11/08 22:09:57 [Recovery] 2024/11/08 - 22:09:57 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:09:57 | 500 |       3.735ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:09:58 database connect error
        
        
        [31m2024/11/08 22:09:58 [Recovery] 2024/11/08 - 22:09:58 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:09:58 | 500 |      3.6736ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:09:59 database connect error
        
        
        [31m2024/11/08 22:09:59 [Recovery] 2024/11/08 - 22:09:59 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:09:59 | 500 |      4.8516ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:10:00 database connect error
        
        
        [31m2024/11/08 22:10:00 [Recovery] 2024/11/08 - 22:10:00 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:10:00 | 500 |      8.1846ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:10:01 database connect error
        
        
        [31m2024/11/08 22:10:01 [Recovery] 2024/11/08 - 22:10:01 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:10:01 | 500 |      5.8735ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:10:02 database connect error
        
        
        [31m2024/11/08 22:10:02 [Recovery] 2024/11/08 - 22:10:02 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:10:02 | 500 |      7.4917ms |       127.0.0.1 | GET      "/ping"
        2024/11/08 22:10:03 database connect error
        
        
        [31m2024/11/08 22:10:03 [Recovery] 2024/11/08 - 22:10:03 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:10:03 | 500 |      5.9229ms |       127.0.0.1 | GET      "/ping"
        Save metrics dump to file metrics.dump with interval 10 s
        2024/11/08 22:10:04 database connect error
        
        
        [31m2024/11/08 22:10:04 [Recovery] 2024/11/08 - 22:10:04 panic recovered:
        GET /ping HTTP/1.1
        Host: localhost:8080
        Accept-Encoding: gzip
        User-Agent: go-resty/2.7.0 (https://github.com/go-resty/resty)
        
        
        failed to connect to `user=Denis database=`:
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        	[::1]:5432 (localhost): dial error: dial tcp [::1]:5432: connectex: No connection could be made because the target machine actively refused it.
        	127.0.0.1:5432 (localhost): dial error: dial tcp 127.0.0.1:5432: connectex: No connection could be made because the target machine actively refused it.
        C:/JetBrains/GolandProjects/logger/internal/handlers/handlers.go:263 (0x1063bfc)
        	main.DBPing.func15: panic(err)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/metricsdump.go:60 (0x1065168)
        	main.SyncDumpUpdate.func9: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0x1031e15)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-contrib/gzip@v1.0.1/handler.go:60 (0x1031dfd)
        	(*gzipHandler).Handle: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf57daa)
        	(*Context).Next: c.handlers[c.index](c)
        C:/JetBrains/GolandProjects/logger/internal/logging/logging.go:13 (0x10652ce)
        	main.WithLogging.func8: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5d539)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102 (0xf5d527)
        	CustomRecoveryWithWriter.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5c664)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249 (0xf5c64b)
        	LoggerWithConfig.func1: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185 (0xf5ba91)
        	(*Context).Next: c.handlers[c.index](c)
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633 (0xf5b500)
        	(*Engine).handleHTTPRequest: c.Next()
        C:/Program Files/Git/cmd/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589 (0xf5b191)
        	(*Engine).ServeHTTP: engine.handleHTTPRequest(c)
        C:/Program Files/Go/src/net/http/server.go:3142 (0xde960d)
        	serverHandler.ServeHTTP: handler.ServeHTTP(rw, req)
        C:/Program Files/Go/src/net/http/server.go:2044 (0xde5be7)
        	(*conn).serve: serverHandler{c.server}.ServeHTTP(w, w.req)
        C:/Program Files/Go/src/runtime/asm_amd64.s:1695 (0xbdd920)
        	goexit: BYTE	$0x90	// NOP
        [0m
        [GIN] 2024/11/08 - 22:10:04 | 500 |      6.9811ms |       127.0.0.1 | GET      "/ping"
--- PASS: TestIteration10B (10.13s)
    --- PASS: TestIteration10B/TestPingHandlerWithWrongSettings (10.01s)
PASS
